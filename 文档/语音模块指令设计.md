------

**完整的16进制指令控制设计方案总结**，包括：灯、风扇、窗帘的基本控制指令和三个场景模式命令，均符合以下格式：

------

## 📐 一、指令格式设计

每条指令 **固定5字节（用空格分隔）**：

```
[头 AA] [设备号] [命令类型] [参数] [校验]
```

- `AA`：固定帧头（表示开始）
- `设备号`：表示是哪个设备（灯、风扇、窗帘或模式控制器）
- `命令类型`：表示要对设备做什么（开关、调速、切换模式等）
- `参数`：实际操作内容（如：打开/关闭、低速/中速/高速）
- `校验`：校验码，取前4字节异或（^）得到

------

## 💡 二、设备编号说明

| 设备名称 | 设备号 |
| -------- | ------ |
| 灯1      | `01`   |
| 灯2      | `02`   |
| 灯3      | `03`   |
| 灯4      | `04`   |
| 风扇     | `05`   |
| 窗帘     | `06`   |
| 模式控制 | `0F`   |

------

## 🔧 三、命令类型说明

| 类型说明     | 命令类型 |
| ------------ | -------- |
| 灯控制       | `10`     |
| 风扇控制     | `11`     |
| 窗帘控制     | `12`     |
| 模式切换命令 | `20`     |

------

## 🧱 四、参数定义

### 1. 灯控制（命令类型 10）

| 参数含义 | 参数值 |
| -------- | ------ |
| 关闭     | `00`   |
| 打开     | `01`   |

### 2. 风扇控制（命令类型 11）

| 风速 | 参数值 |
| ---- | ------ |
| 关闭 | `00`   |
| 低速 | `01`   |
| 中速 | `02`   |
| 高速 | `03`   |

### 3. 窗帘控制（命令类型 12）

| 操作 | 参数值 |
| ---- | ------ |
| 关闭 | `00`   |
| 打开 | `01`   |

### 4. 模式控制（命令类型 20）

| 模式名称 | 参数值 |
| -------- | ------ |
| 睡觉模式 | `01`   |
| 回家模式 | `02`   |
| 离家模式 | `03`   |

------

## 🧾 五、完整指令示例（含校验）

### 💡 灯指令

| 操作    | 指令             |
| ------- | ---------------- |
| 打开灯1 | `AA 01 10 01 B8` |
| 关闭灯1 | `AA 01 10 00 B9` |
| 打开灯2 | `AA 02 10 01 B9` |
| 关闭灯2 | `AA 02 10 00 B8` |
| 打开灯3 | `AA 03 10 01 BA` |
| 关闭灯3 | `AA 03 10 00 B9` |
| 打开灯4 | `AA 04 10 01 BB` |
| 关闭灯4 | `AA 04 10 00 BA` |

### 🌬️ 风扇指令

| 操作     | 指令             |
| -------- | ---------------- |
| 关闭风扇 | `AA 05 11 00 BB` |
| 低速风扇 | `AA 05 11 01 BA` |
| 中速风扇 | `AA 05 11 02 B8` |
| 高速风扇 | `AA 05 11 03 B9` |

### 🪟 窗帘指令

| 操作     | 指令             |
| -------- | ---------------- |
| 打开窗帘 | `AA 06 12 01 BB` |
| 关闭窗帘 | `AA 06 12 00 BA` |

### 🔄 模式指令

| 模式名称 | 指令             |
| -------- | ---------------- |
| 睡觉模式 | `AA 0F 20 01 B4` |
| 回家模式 | `AA 0F 20 02 B6` |
| 离家模式 | `AA 0F 20 03 B5` |

------

## ✅ 六、校验说明（最后一字节如何计算）

使用异或校验：

```
校验字节 = AA ^ 设备号 ^ 命令类型 ^ 参数
```

例如：

节能模式：

```
AA ^ 0F ^ 20 ^ 01 = B4
```

------

